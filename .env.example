# API Gateway Environment Variables
# This file is auto-generated by start-gateway.sh
# For Docker deployment, you only need to provide JWT_SECRET

# ============================================================================
# REQUIRED: JWT Configuration
# ============================================================================
# The start-gateway.sh script will prompt you for this, or generate one
# Generate manually: openssl rand -base64 32
JWT_SECRET=

# JWT Token Settings
JWT_ISSUER=api-gateway
JWT_AUDIENCE=api-clients
JWT_EXPIRY=24h

# ============================================================================
# Environment Configuration
# ============================================================================
NODE_ENV=development
LOG_LEVEL=info

# ============================================================================
# Demo Credentials (DEVELOPMENT ONLY)
# ============================================================================
# These are only used in development mode for testing
# DO NOT USE IN PRODUCTION
DEMO_ADMIN_PASSWORD=change-me-admin
DEMO_USER_PASSWORD=change-me-user

# ============================================================================
# Production User Configuration (PRODUCTION ONLY)
# ============================================================================
# For production, define users as JSON string
# Example: AUTH_USERS='{"admin":{"password":"$2b$10$hash","id":"user_001","role":"admin"}}'
# AUTH_USERS=

# ============================================================================
# Redis Configuration (AUTO-CONFIGURED FOR DOCKER)
# ============================================================================
# In Docker, Redis runs as a container, so use 'redis' as hostname
# For localhost deployment, use '127.0.0.1'
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ============================================================================
# Admin API Configuration (AUTO-GENERATED)
# ============================================================================
# The start-gateway.sh script generates a secure token automatically
# Access admin endpoints: curl -H "Authorization: Bearer $ADMIN_TOKEN" http://localhost:8080/admin/config
ADMIN_TOKEN=
ADMIN_ENABLED=true

# ============================================================================
# Metrics Configuration (Prometheus)
# ============================================================================
METRICS_ENABLED=true
METRICS_PORT=9090

# ============================================================================
# Response Caching Configuration
# ============================================================================
CACHE_ENABLED=true
CACHE_DEFAULT_TTL=300
CACHE_MAX_ENTRY_SIZE=1048576

# ============================================================================
# WebSocket Configuration
# ============================================================================
WEBSOCKET_ENABLED=true
WEBSOCKET_MAX_CONNECTIONS=100

# ============================================================================
# Gateway Server Configuration
# ============================================================================
GATEWAY_PORT=8080

# ============================================================================
# CORS Configuration
# ============================================================================
# Comma-separated list of allowed origins
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080

# ============================================================================
# Monitoring (Optional - for Grafana)
# ============================================================================
# Only used if you start with --monitoring flag
GRAFANA_USER=admin
GRAFANA_PASSWORD=admin
