{
  "server": {
    "host": "0.0.0.0",
    "port": 8080,
    "tls": {
      "enabled": false,
      "cert_file": "config/cert.pem",
      "key_file": "config/key.pem"
    },
    "max_connections": 1000,
    "connection_timeout": 30,
    "request_timeout": 30,
    "max_body_size": 10485760
  },
  "jwt": {
    "algorithm": "HS256",
    "secret": "${JWT_SECRET}",
    "issuer": "api-gateway",
    "audience": "api-clients",
    "access_token_expiry": 3600,
    "refresh_token_expiry": 86400
  },
  "rate_limits": {
    "global": {
      "requests": 10000,
      "window": 60
    },
    "per_ip": {
      "requests": 100,
      "window": 60
    },
    "per_ip_connections": 10,
    "endpoints": {
      "/api/auth/login": {
        "requests": 5,
        "window": 60
      },
      "/api/payment": {
        "requests": 10,
        "window": 60
      }
    }
  },
  "logging": {
    "level": "info",
    "format": "json",
    "file": "logs/gateway.log",
    "max_file_size": 104857600,
    "max_files": 10,
    "async": true
  },
  "security": {
    "max_header_size": 8192,
    "allowed_methods": ["GET", "POST", "PUT", "DELETE", "PATCH", "OPTIONS"],
    "cors": {
      "enabled": true,
      "allowed_origins": ["http://localhost:3000", "http://localhost:8000"],
      "allowed_headers": ["Authorization", "Content-Type", "X-Request-ID"],
      "allowed_methods": ["GET", "POST", "PUT", "DELETE", "PATCH", "OPTIONS"],
      "max_age": 3600,
      "allow_credentials": true
    },
    "headers": {
      "x_frame_options": "DENY",
      "x_content_type_options": "nosniff",
      "x_xss_protection": "1; mode=block",
      "referrer_policy": "strict-origin-when-cross-origin"
    }
  },
  "backends": {
    "health_check_interval": 10,
    "health_check_timeout": 5,
    "circuit_breaker": {
      "failure_threshold": 5,
      "recovery_timeout": 60,
      "half_open_requests": 3
    }
  },
  "redis": {
    "enabled": false,
    "uri": "tcp://127.0.0.1:6379",
    "password": "${REDIS_PASSWORD}",
    "db": 0,
    "connection_pool_size": 10
  },
  "cache": {
    "enabled": false,
    "backend": "redis",
    "default_ttl": 300,
    "max_entry_size": 1048576,
    "cacheable_methods": ["GET"],
    "cacheable_status_codes": [200, 301, 302, 404],
    "exclude_paths": ["/api/auth/*", "/admin/*"],
    "cache_control_respect": true
  },
  "metrics": {
    "enabled": true,
    "port": 9090,
    "path": "/metrics"
  },
  "admin": {
    "enabled": false,
    "token": "${ADMIN_TOKEN}",
    "allowed_ips": ["127.0.0.1"]
  },
  "websocket": {
    "enabled": false,
    "max_connections": 100,
    "ping_interval": 30,
    "ping_timeout": 10
  }
}
